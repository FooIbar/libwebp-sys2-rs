language: rust
dist: bionic

install:
  # libwebp-dev: for libwebp
- sudo apt-get install -y gcc libwebp-dev
- rustup component add rustfmt clippy
script:
- cargo build --all --verbose
- cargo test --all --verbose
- cargo test --all --verbose --features "0.5"
- cargo test --all --verbose --features "0.6"
- cargo test --all --verbose --features "1.1"
- cargo test --all --verbose --features bundled
- cargo fmt --all -- --check
